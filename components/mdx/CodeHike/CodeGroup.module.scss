.wrapper {
  margin: 16px 0;
  position: relative;
  background: #171717;
  border-radius: 6px;
  overflow: hidden;
}

.tabNav {
  width: 100%;
  height: 50px;
  background: #282828;
  border-radius: 6px 6px 0 0;
  display: flex;
  align-items: center;
  position: relative;
  overflow: hidden;
}

.tabList {
  height: 100%;
  display: flex;
  align-items: center;
  overflow: auto;
  flex: 1;
  scroll-behavior: smooth;
  padding: 0 50px 0 2px; // 右侧为复制按钮留空间，左侧正常padding

  &::-webkit-scrollbar {
    width: 0;
    height: 0;
  }
}

// 当父容器有右箭头时，调整tabList的右padding
.tabNav.hasRightArrow .tabList {
  padding-right: 90px; // 为右箭头和复制按钮都留空间
}

// 当父容器有左箭头时，调整tabList的左padding
.tabNav .tabList {
  &:has(~ .tabArrow.left) {
    padding-left: 42px; // 为左箭头留空间
  }
}

// 更兼容的方式：通过父容器类名控制
.tabNav.hasLeftArrow .tabList {
  padding-left: 42px; // 为左箭头留空间
}

.tabItem {
  height: 100%;
  padding: 0 14px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: rgba(255, 255, 255, 0.6);
  width: max-content;
  cursor: pointer;
  background: transparent;
  border: none;
  position: relative;
  transition: color 0.2s ease;

  &:hover {
    color: rgba(255, 255, 255, 0.8);
  }

  &.active {
    color: rgba(255, 255, 255, 1);
    
    &::before {
      content: "";
      width: calc(100% - 28px);
      height: 2px;
      background: #007acc;
      position: absolute;
      left: 14px;
      bottom: 0;
    }
  }
}

.tabFilename {
  font-size: 13px;
  font-family: ui-monospace, SFMono-Regular, var(--font-menlo), Monaco, 'Cascadia Code', 'Segoe UI Mono', 'Roboto Mono', 'Oxygen Mono', 'Ubuntu Monospace', 'Source Code Pro', 'Fira Code', 'Droid Sans Mono', 'Courier New', monospace;
  font-weight: 500;
  white-space: nowrap;
  width: max-content;
}

.tabArrow {
  width: 40px;
  height: 50px;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: absolute;
  top: 0;
  z-index: 15;
  transition: all 0.2s ease;
  pointer-events: auto;

  &::before {
    content: "";
    width: 20px;
    height: 20px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,0.8)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15,18 9,12 15,6"></polyline></svg>') no-repeat center;
    background-size: contain;
    transition: all 0.2s ease;
    pointer-events: none;
  }

  &:hover::before {
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="rgba(255,255,255,1)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="15,18 9,12 15,6"></polyline></svg>') no-repeat center;
    background-size: contain;
  }

  &.left {
    left: 0;
    background: linear-gradient(to right, #282828 0%, #282828 60%, rgba(40, 40, 40, 0) 100%);

    &::before {
      transform: rotate(0deg);
    }
  }

  &.right {
    right: 0;
    background: linear-gradient(to left, #282828 0%, #282828 60%, rgba(40, 40, 40, 0) 100%);

    &::before {
      transform: rotate(180deg);
    }
  }
}

.tabContent {
  // 移除Code组件的margin，因为它已经在wrapper中了
  :global(.wrapper) {
    margin: 0;
    border-radius: 0;
  }
  
  // 如果Code组件有filename，隐藏它（因为已经在tab中显示了）
  :global(.filename) {
    display: none;
  }
}
