# 数据说明

- - -

本文针对通话洞察功能模块内相关数据进行说明。

## 码率

码率是指数据传输时单位时间传送的数据位数。   

一般来说，码率越高，处理出来的文件越接近原始文件，其音视频质量越好，但越高的码率对设备的性能要求越高；码率低不一定会导致通话质量问题，但是过低的码率一般会致使音视频质量相对较差。
- 在正常情况下，码率接近于或略高于预设值。
- 在网络丢包情况下，因为有数据重传，所以码率会更高一些。

相关的名词及说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 目标码率 | 推流端指标，客户端设置的推流编码码率。 |
| 音频/视频发送码率 | 推流端指标，实际发送音频/视频的码率。 |
| 音频/视频接收码率 | 拉流端指标，实际接收音频/视频的码率。 |

## 帧率

帧率是以帧称为单位的位图图像连续出现在显示机器上的频率（速率）。   
作为评估用户体验是否有卡顿的重要数据，帧率越高，视频越流畅。但较高的帧率需要更多的带宽和 CPU；帧率过低会造成卡顿的观感体验。通常，帧率低于 5fps 表示用户体验极差，需要您重点关注。
- 在正常情况下，帧率的实际值应和预设值一致

相关名词及说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 目标帧率 | 推流端指标，在客户端设置的推流编码帧率。 |
| 视频采集帧率 | 推流端指标，客户端 SDK 实际采集的帧率。 |
| 音频/视频发送帧率 | 推流端指标，实际发送音频/视频的帧率。 |
| 音频/视频接收帧率 | 拉流端指标，实际接收音频/视频的帧率。 |

## 卡顿率

重要的音视频质量评判指标，包含音频卡顿率和视频卡顿率。
<Warning title="注意">

当前仅 Native SDK（需使用 2021 年 1 月以后发布的版本） 和 Web SDK（需使用 2022 年 1 月以后发布的版本）支持卡顿率计算。
</Warning>

### 音频卡顿率
音频卡顿的定义：音频两帧之间的渲染间隔时长超过 200ms（默认），持续的时间则计为此次的卡顿时长；

音频卡顿率 = （1个采样周期内的音频卡顿时长之和 / 1个采样周期内的音频总时长）x 100% 。 

### 视频卡顿率
视频卡顿的定义：视频两帧之间的渲染间隔时长超过 500ms（默认），持续的时间则记为此次的卡顿时长；

视频卡顿率 = （1个采样周期内的视频卡顿时长之和 / 1个采样周期内的视频总时长）x 100% 。

### 通话卡顿率
通话卡顿率是评判一次音视频通话质量的重要指标，可以区分查看音频通话卡顿率、视频通话卡顿率；

通话卡顿率 = （一次通话内的卡顿累计时长 / 此次通话中音视频累计有效时长） x 100%。

## 丢包率

丢包，是指在数据传输过程中发生的数据包丢失。丢包率，是指在数据传输过程中所丢失的数据包数量占所发送数据组的比率，一般使用百分比表示。
网络质量不佳可能会导致丢包。轻微的丢包通常不影响用户体验，但当丢包率过高（超过 5%）意味着网络质量较差，可能会导致音视频卡顿或模糊等体验问题，需要重点关注。

<Warning title="注意">

当前仅 Native SDK（需使用 2022 年 1 月以后发布的版本） 和 Web SDK（需使用 2022 年 1 月以后发布的版本）支持丢包率计算；由于协议问题，CDN 服务暂不支持丢包率计算。
</Warning>


相关名词及说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 上行丢包率 | 推流端指标，表示推流用户从客户端推流到服务器的丢包情况。 |
| 下行丢包率 | 拉流端指标，表示拉流用户从服务器拉流到客户端的丢包情况。 |
| 端到端丢包率 | 拉流端指标，表示从推流客户端到拉流客户端的全链路丢包情况。 |

## 延迟

延迟，是指数据在网络传输过程中所用的时间。数据传输一定会有延迟，但较低的延迟对用户互动体验没有影响。高延迟（超过 400ms）意味着网络质量不佳，可能影响用户互动的实时性。

<Warning title="注意">

当前，仅 Native SDK 和 Web SDK（需使用 2021 年 10 月以后发布的版本）支持延迟计算；由于协议问题，CDN 服务暂不支持延迟计算。
</Warning>

延迟区分上/下行延迟、端到端延迟，相关说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 上行延迟 | 推流端指标，表示推流用户将数据从客户端推到服务器的单程耗时。 |
| 下行延迟 | 拉流端指标，表示拉流用户将数据从服务器拉到客户端的单程耗时。 |
| 端到端延迟 | 拉流端指标，表示从推流端开始推流到拉流端渲染出画面的整体耗时情况。<br />注意：与上下行延迟不同，端到端延迟包含了音视频渲染的耗时，数值可能会受业务逻辑的影响（如网络问题严重时，为保证因视频流畅度，则本地数据缓冲会比较大，相应的端到端延迟会比较大）。 |

## 分辨率

分辨率决定了图像细节的精细程度。通常情况下，视频设置的分辨率越高，所包含的像素就越多，视频的画面就越清晰。

<Note title="说明">

**分辨率**、**码率** 和 **帧率** 是存在一定的关联关系。一般来说，当分辨率固定时，码率越高，画面越清晰；而如果码率固定，分辨率越大，画面越模糊。合理的设置分辨率、码率和帧率，可以达到更好的画面质量。
</Note>

相关名词及说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 编码分辨率 | 推流端指标，指经过编码处理的画面的分辨率。 |
| 解码分辨率 | 拉流端指标，指经过解码处理的画面的分辨率。 |

## 音量

音量表示的为 SDK 采集和解码的声音大小。

<Note title="说明">

星图中提供的音量数据，并不表示用户对声音的真实感受，其表示的为 SDK 采集和解码的音量大小；
播放设备的好坏、用户和设备之间的距离、环境是否嘈杂等因素均会影响用户对音量大小强弱的真实感受。
</Note>


相关名词及说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 麦克风输入音量 | 推流端指标，指 SDK 的输入音量大小。 |
| 扬声器输出音量 | 拉流端指标，指 SDK 的输出音量大小。 |

## 设备状态

表现用户设备的使用状态，包含系统 CPU 使用率、App CPU 使用率、系统内存使用量、App 内存使用量以及内存总量，相关说明如下表所示：

| 名词 | 说明 |
| -- | -- |
| 系统 CPU 使用率 | 系统的 CPU 占用率。如果用户的设备性能较差，推拉流时可能会使系统 CPU 占用率过高，导致音视频卡顿。
| App CPU 使用率 | 当前 App 的 CPU 占用率。如果用户的设备性能较差，同样App CPU 占用率可能会过高，导致音视频卡顿。
| 系统内存使用量 | 系统内存的使用情况。如果设备内存过小，内存使用量不足，可能导致音视频音视频软件播放异常，造成卡顿、黑屏等相关体验问题。 |
| App 内存使用量 | 当前 App 的 内存使用情况。过低或过高的内存使用量通常能够反映 App 使用异常，需要关注。 |
| 内存总量 | 系统的内存总量。部分设备可能无法获取，仅供参考。 |
