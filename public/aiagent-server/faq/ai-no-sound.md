# 为什么能看见 AI 回复的字幕但是听不到 AI 的声音?

## 1 检查配置及回调信息

当您在使用 ZEGO 实时互动 AI Agent 服务时，可能会遇到能看到 AI 回复的字幕但听不到 AI 声音的问题。您可以按照以下步骤进行排查：

- 检查客户端设备音频播放是否正常，可以通过播放其他音频内容来确认。

- 排查 RTC 推拉流是否正常，确认网络连接稳定且没有被防火墙阻止。
   > 您可通过监听 ZEGO Express SDK 的 onPlayerStateUpdate 回调知晓是否成功拉取音视频。

- 检查 TTS 配置参数是否正确，包括 API Key、应用 ID 等关键信息。

- 确认 TTS 服务账号是否有足够的余额或是否达到了并发上限。

- 检查是否有 TTS（文本转语音）相关错误抛出。由于 AI Agent 服务是透传客户的 TTS 配置，可能是 TTS 配置错误导致 TTS 服务异常，从而无法听到 AI 的声音。具体错误信息可以从错误异常[回调](/aiagent-server/callbacks/receiving-callback)中查看。

   <Note title="注意">确认您的业务服务已经监听异常事件回调，这对于及时发现和处理问题至关重要。</Note>

   > 查看异常事件错误码，特别关注以下错误码
   > - 2301：TTS 通用错误
   > - 2302：TTS 参数错误
   > - 2303：TTS 请求鉴权失败
   > - 2304：TTS 请求并发达到上限
   > - 2305：TTS 账号欠费


## 2 使用星图监控质量

您可以使用 ZEGO 控制台中的星图，对 AI Agent 服务的质量进行实时监控：

1. 登录 ZEGO 控制台。
2. 进入星图监控页面，（这块可以复用其他产品，怎么通过星图查看推拉流质量）
3. 查看相关的服务质量指标，包括 TTS 服务响应时间、错误率等。
4. 通过星图的历史数据分析，定位问题发生的具体时间点和原因。

## 3 联系 ZEGO 技术支持

如果按照上述步骤排查后问题仍然存在，请联系 ZEGO 技术支持，并提供以下信息，以便快速定位问题：

| 信息 | 详情 |
| --- | --- |
| 必要信息 | 出现问题的房间 ID（roomID）。 |
| | 智能体实例 ID（agentInstanceID）。 |
| | 发生问题的时间段。 |
| | 异常事件回调中的错误码和错误信息。 |
| 可选信息 | SDK 日志文件，详情请参考 [如何设置和获取 SDK 的日志、堆栈信息](https://doc-zh.zego.im/faq/express%5FsdkLog)。 |
| | TTS 配置参数（注意去除敏感信息如 API Key）。 |
| | 客户端设备型号和操作系统版本。 |