# 性能数据

- - -


#### 测试主机配置

- 阿里云主机实例：esc.c6.2xlarge
- 8 虚拟核 CPU，16GB 内存
- 磁盘 I/O：106 MB/s
- 带宽：100 Mbps

#### 测试条件

- 房间内推分辨率为 360 * 180、帧率为 15 fps、码率为 300 kbps 的 1 条单流，进行单流录制。
- 房间内推分辨率为 360 * 180、帧率为 15 fps、码率为 300 kbps 的 2 条单流，进行混流录制，混流输出视频分辨率为 640 * 360、帧率为 15 fps、码率为 600 kbps。

#### 录制并发性能

|录制模式|测试结果| 建议 |
|-|-|-|
|音视频单流录制|并发录制 350 个房间，录制的视频文件出现卡顿。|建议并发 300 个房间。|
|2 路音视频混流录制|并发录制 45 个房间，CPU 占用 75%。|建议并发 40 个房间。|
|2 路纯音频混流录制|并发录制 230 个房间，CPU 占用 85%。|建议并发 200 个房间。|

#### 结论

基于上述测试主机：

- 单流录制的性能瓶颈主要源于带宽，如果需要更多路并发的单流录制，需要更大的带宽。同时需要关注磁盘 I/O 的使用情况。
- 混流录制的性能瓶颈主要源于 CPU，如果需要更多路并发的混流录制，需要更高性能的 CPU。
