# 概述
---
## 产品简介
[ZEGO 云端录制](https://www.zego.im/product/recording)，是 ZEGO 针对实时音视频通话、互动直播等场景研发的录制服务。开发者通过简单的 API 集成和调用，可快速实现音视频通话及互动直播的录制功能，方便对录制内容进行回放。

## 产品优势
#### 高可靠性
全球分布式集群部署，提供高可用性服务。分片录制，录制过程自动容灾，已录制的文件不会丢失。当第三方云存储故障时，提供自动存储灾备和延迟上传功能。

#### 高安全性
提供视频通话、数据传输、数据存储等端到端安全保障机制。录制完成后，所有录制文件自动上传至客户指定的云存储平台。拉流环节采用 Token 鉴权机制、AES 加密机制，传输环节采用传输通道加密机制，确保将文件安全地存储至指定云平台。

#### 兼容性
云端录制服务支持将录制后的文件存储到第三方平台，如阿里云、AWS S3、腾讯云、七牛云、阿里云 Vod （仅支持 MP4、FLV），客户可根据自己的需求，灵活选择存储云平台。

#### 简单易用
接口简单，接入方便。录制结果为 MP4 、FLV 或 HLS 格式文件，录制完成后无需再用脚本做后处理，录制文件可以立即播放。

#### 灵活组合
提供丰富的功能，客户可以根据自己的业务需求，灵活组合各个功能，无缝应用于不同的业务场景，实现更完善的服务。

## 功能简介

| 主要功能 | 功能描述 |
|---------|---------|
| 单流录制 | 支持区分录制频道内的每个用户，获得频道内每个用户单独的音视频文件。 |
| 混流录制 | 支持多路音频、视频，或音视频和白板混合录制，将频道内所有用户的音频流、视频流和白板混合录制为一个视频文件。 |
| 白板文件录制 | 支持音视频与白板文件混合同步录制回放，满足教学、培训、会议等场景播放需求。 |
| 混流布局 | <p>提供多种预置混流布局模版，在混流模式下，支持自定义布局和使用预置的布局。预置布局包括：</p><ul><li>水平布局</li><li>垂直布局</li><li>悬浮布局</li><li>平分布局</li></ul> |
| 空流补白 | 支持房间内某个用户推流中断后在当前位置展示其最后一秒的画面，等该用户恢复推流后无缝连接新视频画面。 |
| 单流录制截图能力 | 在单流录制模式下，支持单独的视频截图。可以设置截图的时间间隔。录制服务端会自动截取图片并实时上传至指定的第三方云存储。一个单流录制任务可以是只截图或者是只录制视频，无法边录制边截图。 |
| 混流录制截图能力 | 在混流录制模式下，支持边录制视频边截图视频截图。可以设置截图的时间间隔。录制服务端会自动截取图片并实时上传至指定的第三方云存储。一个混流录制任务可以同时截图和录制视频。 |
| 动态 PPT 录制 | 支持录制 PPT 内的动画效果、内嵌音视频。 |
| 第三方云存储 | <p>支持将录制文件存储在第三方云存储中。包括：</p><ul><li>亚马逊 S3</li><li>阿里云 OSS</li><li>腾讯云 COS</li><li>七牛云 Kodo</li><li>阿里云 Vod（仅支持 MP4、FLV）</li><li>腾讯云 Vod</li><li>华为云 OBS</li><li>谷歌云 Cloud Storage</li><li>移动云 EOS</li><li>使用 S3 协议的存储服务提供商（例如 DigitalOcean）</li></ul> |
| 服务端事件通知回调 | 支持服务端事件通知回调，使用该回调之后，可以收到不同录制状态下的通知，例如：<ul><li>录制文件上传状态通知</li><li>录制任务异常结束状态通知</li><li>录制过程中自定义背景图/水印图下载失败通知</li><li>录制过程中房间内流数量为 0 通知</li><li>录制正常退出通知</li><li>录制停止通知</li></ul> |

## 应用场景

<table>
  
  <tbody><tr>
    <th>行业</th>
    <th>适用场景</th>
  </tr>
  <tr>
    <td>在线教育</td>
    <td>在 1v1 、小班课、大班课等教育场景中，提供高质量的课程录制服务，将老师及学生的音视频和白板内容录制下来，便于课后回顾。</td>
  </tr>
  <tr>
    <td>社交直播</td>
    <td>在社交娱乐等场景中，提供音视频录制服务，可将直播精彩瞬间录制下来，也可进行直播回放，或应国家监管要求进行直播鉴黄。</td>
  </tr>
  <tr>
    <td>金融行业</td>
    <td>在开展在线理财、开户、面签等业务时，应国家监管要求，必须提供录音录像服务，形成交易记录的视频，存档备查。</td>
  </tr>
  <tr>
    <td>客服中心</td>
    <td>在在线语音或视频客服场景中，可将沟通过程录制下来，方便进行客服质量评估以及后期的用户调研。</td>
  </tr>
  <tr>
    <td>远程医疗</td>
    <td>在远程问诊、在线咨询过程进行录制，帮助病人足不出户获取医疗资源，并方便医生后期诊疗参考等。</td>
  </tr>
</tbody></table>

## 使用限制

#### 故障迁移

针对网络故障，以及非 ZEGO 产品引入的，基础设施和不可抗力等因素可能导致的风险，云端录制服务在保证用户相对良好体验的前提下支持故障下的自动任务迁移服务。当故障确认后，该服务会在尽量短的时间完成，在此期间会存在录制中断、录制文件丢失等风险。   

对录制服务可靠性要求较高的场景，开发者可以确认是否接受故障迁移导致的业务风险，并考虑采用多路录制和实时监听回调获得录制服务状态信息以调整录制服务进程。


#### 服务并发

云端录制单流录制支持输入的视频文件规格上限为分辨率 1920 * 1080、帧率 60 fps、码率 20 Mbps。音频文件规格上限为码率192 Kbps。

对于单个 AppID，使用国内集群时录制任务并发上限为 1000，使用海外集群时录制任务并发上限为 200，如需调整，请联系 ZEGO 技术支持。

#### API 限频

云端录制服务相关服务端 API 的每秒调用频率限制（QPS, Queries Per Second）请参考 [服务端 API - API 概览](/cloud-recording-server/api-overview)。

请根据调用频率限制设定业务侧的API请求次数，如需调整，请联系 ZEGO 商务人员。

#### 录制文件上传

录制结束后，录制文件通常会在一定时间内上传至用户指定的第三方云存储。如果上传失败，录制文件会被临时存储在云端录制服务的备份存储中，最多支持存储 3 天，期间，用户可以转移该文件。
